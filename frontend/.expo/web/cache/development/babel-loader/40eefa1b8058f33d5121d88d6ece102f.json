{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { jsonify } from \"react-native-web/dist/index\";\nimport { Card, TextInput, Button, FAB } from \"react-native-paper\";\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\nimport baseUrl from \"../../assets/constants/BaseUrl\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(axios.get(baseUrl + \"/venue/get\").then(function (res) {\n                _this.props.setState(res);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.clickedItem = function (data) {\n      _this.props.navigation.navigate('Details', {\n        data: data\n      });\n    };\n\n    _this.renderData = function (item) {\n      return _jsxs(Card, {\n        style: styles.card,\n        children: [_jsx(Text, {\n          style: styles.title,\n          onPress: function onPress() {\n            return _this.clickedItem(item);\n          },\n          children: item.item.name\n        }), _jsx(Text, {\n          children: item.item.description\n        })]\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(FlatList, {\n          data: this.props.venues.venues,\n          renderItem: function renderItem(data) {\n            return _this2.renderData(data);\n          },\n          keyExtractor: function keyExtractor(data) {\n            return \"\" + data.id;\n          }\n        }), _jsx(FAB, {\n          style: styles.fab,\n          small: false,\n          icon: \"plus\",\n          theme: {\n            colors: {\n              accent: \"green\"\n            }\n          },\n          onPress: function onPress() {\n            return _this2.props.navigation.navigate('Create');\n          }\n        })]\n      });\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar mapState = function mapState(state) {\n  return {\n    venues: state.report\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    setState: function setState(res) {\n      if (res.data) {\n        var action = {\n          type: 'SET_STATE',\n          venues: res.data\n        };\n        dispatch(action);\n      }\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(App);\nvar styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flex: 1\n  },\n  card: {\n    flex: 1,\n    margin: 10,\n    padding: 20\n  },\n  title: {\n    fontSize: 17\n  },\n  fab: {\n    position: \"absolute\",\n    margin: 16,\n    right: 0,\n    bottom: 100\n  },\n  input1: {\n    padding: 10,\n    marginLeft: 20,\n    marginRight: 20,\n    marginTop: 10,\n    height: 30\n  },\n  input2: {\n    padding: 10,\n    marginLeft: 20,\n    marginRight: 20,\n    marginTop: 10,\n    height: 60\n  }\n});","map":{"version":3,"sources":["/Users/llh/Documents/map/frontend/screens/report-staff-trial/View.js"],"names":["React","jsonify","Card","TextInput","Button","FAB","connect","axios","baseUrl","App","componentDidMount","get","then","res","props","setState","clickedItem","data","navigation","navigate","renderData","item","styles","card","title","name","description","container","venues","id","fab","colors","accent","Component","mapState","state","report","mapDispatch","dispatch","action","type","StyleSheet","create","display","flex","margin","padding","fontSize","position","right","bottom","input1","marginLeft","marginRight","marginTop","height","input2"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Image, StyleSheet, Text, View,  FlatList, jsonify } from \"react-native\";\nimport { Card, TextInput, Button, FAB } from \"react-native-paper\";\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\nimport baseUrl from '../../assets/constants/BaseUrl'\n\n// const baseUrl = 'http://127.0.0.1:5000';\n\nclass App extends React.Component{\n\n    render() {\n        return (\n            <View style={styles.container}>\n                <FlatList \n                    data={this.props.venues.venues} \n                    renderItem = {(data) => {   return this.renderData(data) }} \n                    keyExtractor = {data => `${data.id}`}\n                />\n\n                <FAB\n                    style = {styles.fab}\n                    small = {false}\n                    icon = \"plus\"\n                    theme = {{colors:{accent:\"green\"}}} \n                    onPress = {() => this.props.navigation.navigate('Create')}\n                />\n            </View>\n        );\n    }\n\ncomponentDidMount = async () => {\n    await axios.get(`${baseUrl}/venue/get`)\n    .then((res)=>{ \n        this.props.setState(res)\n    })\n}\n\nclickedItem = (data) => {\n    this.props.navigation.navigate('Details', {data: data});\n}\n\nrenderData = (item) => {\n    return (\n        <Card style={styles.card}>\n            <Text style={styles.title} onPress={() => this.clickedItem(item)}>{item.item.name}</Text>\n            <Text>{item.item.description}</Text>\n        </Card>\n    )\n}\n}\n\nconst mapState = (state) => {\n    return {\n        venues: state.report\n    }\n}\n\nconst mapDispatch = (dispatch) => {\n    return {\n      setState(res) {\n        if(res.data) {\n          const action = {\n            type: 'SET_STATE',\n            venues: res.data\n          }  \n          dispatch(action)\n        }\n      }\n    }\n  }\n\nexport default connect(mapState, mapDispatch)(App)\n\nconst styles = StyleSheet.create({\n    container: {\n        display: 'flex',\n        flex: 1\n    },\n    card: {\n        flex: 1,\n        margin: 10,\n        padding: 20,\n    },\n    title: {\n        fontSize: 17\n    },\n    fab: {\n        position: \"absolute\",\n        margin: 16,\n        right: 0,\n        bottom: 100\n    },\n    input1: {\n        padding: 10,\n        marginLeft: 20,\n        marginRight: 20,\n        marginTop: 10,\n        height: 30\n    },\n    input2: {\n        padding: 10,\n        marginLeft: 20,\n        marginRight: 20,\n        marginTop: 10,\n        height: 60\n    }\n});"]},"metadata":{},"sourceType":"module"}