{"ast":null,"code":"import StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useCallback } from 'react';\nimport { Gesture, GestureDetector } from 'react-native-gesture-handler';\nimport Animated, { useAnimatedStyle, useSharedValue, withSpring } from 'react-native-reanimated';\nimport { windowWidth, windowHeight } from \"../assets/constants/Dimensions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar BottomSheet = function BottomSheet(_ref) {\n  var children = _ref.children,\n      childFunc = _ref.childFunc,\n      scrollY = _ref.scrollY;\n  var translateY = useSharedValue(0);\n  var context = useSharedValue({\n    y: 0\n  });\n  var scrollTo = useCallback(function () {\n    var _f = function _f(des) {\n      translateY.value = withSpring(des, {\n        damping: 50\n      });\n    };\n\n    _f._closure = {\n      translateY: translateY,\n      withSpring: withSpring\n    };\n    _f.asString = \"function _f(des){const{translateY,withSpring}=jsThis._closure;{translateY.value=withSpring(des,{damping:50});}}\";\n    _f.__workletHash = 9348981922084;\n    _f.__location = \"/Users/llh/Documents/map/frontend/components/BottomSheet.js (14:30)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }(), []);\n  var gesture = Gesture.Pan().onStart(function () {\n    var _f = function _f() {\n      context.value = {\n        y: translateY.value\n      };\n    };\n\n    _f._closure = {\n      context: context,\n      translateY: translateY\n    };\n    _f.asString = \"function _f(){const{context,translateY}=jsThis._closure;{context.value={y:translateY.value};}}\";\n    _f.__workletHash = 157647771528;\n    _f.__location = \"/Users/llh/Documents/map/frontend/components/BottomSheet.js (20:10)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }()).onUpdate(function () {\n    var _f = function _f(event) {\n      console.log(translateY.value);\n      translateY.value = event.translationY + context.value.y;\n      translateY.value = Math.max(translateY.value, 85 - windowHeight);\n    };\n\n    _f._closure = {\n      translateY: translateY,\n      context: context,\n      windowHeight: windowHeight\n    };\n    _f.asString = \"function _f(event){const{translateY,context,windowHeight}=jsThis._closure;{console.log(translateY.value);translateY.value=event.translationY+context.value.y;translateY.value=Math.max(translateY.value,85-windowHeight);}}\";\n    _f.__workletHash = 7101027540989;\n    _f.__location = \"/Users/llh/Documents/map/frontend/components/BottomSheet.js (23:11)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }()).onEnd(function () {\n    var _f = function _f() {\n      if (translateY.value > -windowHeight / 3) {\n        scrollTo(-windowHeight / 6);\n      } else if (translateY.value < -windowHeight * 2 / 3) {\n        scrollTo(85 - windowHeight);\n      }\n    };\n\n    _f._closure = {\n      translateY: translateY,\n      windowHeight: windowHeight,\n      scrollTo: scrollTo\n    };\n    _f.asString = \"function _f(){const{translateY,windowHeight,scrollTo}=jsThis._closure;{if(translateY.value>-windowHeight/3){scrollTo(-windowHeight/6);}else if(translateY.value<-windowHeight*2/3){scrollTo(85-windowHeight);}}}\";\n    _f.__workletHash = 15460867654284;\n    _f.__location = \"/Users/llh/Documents/map/frontend/components/BottomSheet.js (29:8)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }());\n  React.useEffect(function () {\n    scrollTo(-windowHeight / 6);\n\n    childFunc.current = function () {\n      console.log(\"hi\");\n      translateY.value = withSpring(85 - windowHeight, {\n        damping: 50\n      });\n    };\n  }, []);\n  var bottomAnimation = useAnimatedStyle(function () {\n    var _f = function _f() {\n      return {\n        transform: [{\n          translateY: translateY.value\n        }]\n      };\n    };\n\n    _f._closure = {\n      translateY: translateY\n    };\n    _f.asString = \"function _f(){const{translateY}=jsThis._closure;{return{transform:[{translateY:translateY.value}]};}}\";\n    _f.__workletHash = 8138007511814;\n    _f.__location = \"/Users/llh/Documents/map/frontend/components/BottomSheet.js (46:42)\";\n    _f.__optimalization = 3;\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }());\n\n  var newAnimation = function newAnimation() {\n    return Animated.interpolate(translateY.value, [-720, -140], [20, 20], Animated.Extrapolate.CLAMP);\n  };\n\n  return _jsx(GestureDetector, {\n    gesture: gesture,\n    children: _jsxs(Animated.View, {\n      style: [styles.container, bottomAnimation, {\n        borderRadius: 20\n      }],\n      children: [_jsx(View, {\n        style: styles.line\n      }), _jsx(View, {\n        style: styles.content,\n        children: children\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    height: windowHeight,\n    width: windowWidth,\n    position: 'absolute',\n    top: windowHeight,\n    left: 0,\n    borderRadius: 15,\n    backgroundColor: '#f5f5f5',\n    opacity: 1\n  },\n  line: {\n    width: 75,\n    height: 4,\n    backgroundColor: 'gray',\n    alignSelf: 'center',\n    marginVertical: 10,\n    borderRadius: 2\n  },\n  content: {\n    paddingHorizontal: 2.5\n  }\n});\nexport default BottomSheet;","map":{"version":3,"sources":["/Users/llh/Documents/map/frontend/components/BottomSheet.js"],"names":["React","useEffect","useCallback","Gesture","GestureDetector","Animated","useAnimatedStyle","useSharedValue","withSpring","windowWidth","windowHeight","BottomSheet","children","childFunc","scrollY","translateY","context","y","scrollTo","des","value","damping","gesture","Pan","onStart","onUpdate","event","console","log","translationY","Math","max","onEnd","current","bottomAnimation","transform","newAnimation","interpolate","Extrapolate","CLAMP","styles","container","borderRadius","line","content","StyleSheet","create","height","width","position","top","left","backgroundColor","opacity","alignSelf","marginVertical","paddingHorizontal"],"mappings":"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","sourcesContent":["import { StyleSheet, View } from 'react-native';\nimport React, { useEffect, useCallback } from 'react';\nimport { Gesture, GestureDetector } from 'react-native-gesture-handler';\n\nimport Animated, { useAnimatedStyle, useSharedValue, withSpring } from 'react-native-reanimated'\n\nimport { windowWidth, windowHeight } from '../assets/constants/Dimensions';\n\nconst BottomSheet = ({ children, childFunc, scrollY }) => {\n\n\tconst translateY = useSharedValue(0);\n\tconst context = useSharedValue({y:0});\n\n\tconst scrollTo = useCallback((des) => {\n\t\t\"worklet\";\n\t\ttranslateY.value = withSpring(des, { damping: 50 });\n\t}, [])\n\n\tconst gesture = Gesture.Pan()\n\t.onStart(() => {\n\t\tcontext.value = { y: translateY.value }\n\t})\n\t.onUpdate((event) => {\n\t\t// console.log(scrollY);\n\t\tconsole.log(translateY.value)\n\t\ttranslateY.value = event.translationY + context.value.y;\n\t\ttranslateY.value = Math.max(translateY.value, 85 - windowHeight)\n\t})\n\t.onEnd(() => {\n\t\tif (translateY.value > -windowHeight / 3) {\n\t\t\tscrollTo(- windowHeight / 6)\n\t\t}\n\t\telse if (translateY.value < -windowHeight * 2 / 3) {\n\t\t\tscrollTo(85 - windowHeight)\n\t\t}\n\t});\n\n\tReact.useEffect(() => {\n\t\tscrollTo(- windowHeight / 6)\n    \tchildFunc.current = () => {\n\t\t\tconsole.log(\"hi\")\n\t\t\ttranslateY.value = withSpring(85 - windowHeight, { damping: 50 });\n\t\t};\n  }, []);\n\n\tconst bottomAnimation = useAnimatedStyle(() => {\n\t\t// const borderRadius = Animated.interpolateNode(translateY.value, {\n\t\t// \t\t\tinputRange: [85 - windowHeight, 170 - windowHeight],\n\t\t// \t\t\toutputRange: [25, 5],\n\t\t// \t\t\textrapolate: 'clamp'\n\t\t// \t\t});\n\t\treturn {\n\t\t\t// borderRadius,\n\t\t\ttransform: [\n\t\t\t\t{ translateY: translateY.value },\n\t\t\t],\n\t\t}\n\t})\n\n\tconst newAnimation = () => {\n\t\treturn Animated.interpolate(translateY.value, \n\t\t  [  -720, -140 ],\n\t\t  [20, 20],\n\t\t  Animated.Extrapolate.CLAMP\n\t\t)\n\t  }\n\n\treturn (\n\t\t<GestureDetector gesture={gesture}>\n\t\t<Animated.View style={[styles.container, bottomAnimation, {borderRadius: 20}]}>\n\t\t\t<View style={styles.line}></View>\n\t\t\t<View style={styles.content}>\n\t\t\t{children}\n\t\t\t</View>\n\t\t</Animated.View>\n\t\t</GestureDetector>\n\t)\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\theight: windowHeight,\n\t\twidth: windowWidth,\n\t\tposition: 'absolute', \n\t\ttop: windowHeight, \n\t\tleft: 0,\n\t\tborderRadius:15,\n\n\t\tbackgroundColor: '#f5f5f5',\n\t\topacity: 1,\n\t},\n\tline: {\n\t\twidth: 75,\n\t\theight: 4,\n\t\tbackgroundColor: 'gray',\n\t\talignSelf: 'center',\n\t\tmarginVertical: 10,\n\t\tborderRadius: 2,\n\t},\n\tcontent: {\n\t\tpaddingHorizontal: 2.5\n\t}\n})\n\nexport default BottomSheet;"]},"metadata":{},"sourceType":"module"}